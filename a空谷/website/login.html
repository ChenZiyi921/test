<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录</title>
    <link rel="stylesheet" href="css/login.css">
</head>

<body>
    <div class="login-wrap">
        <div class="login-tabs">
            <a class="cur" href="javascript:;">账号登录</a>
            <a href="javascript:;">验证码登录</a>
        </div>
        <div class="login-account login-content">
            <input type="text" class="input" placeholder="请输入账号/手机号">
            <input type="password" class="input" placeholder="请输入密码">
            <p class="checkbox-wrap">
                <input type="checkbox" class="checkbox">
                <span>记住登录密码</span>
            </p>
        </div>
        <div class="login-checkcode login-content">
            <input type="text" class="input" placeholder="请输入手机号">
            <input type="text" class="input" placeholder="请输入验证码">
            <span class="sendCheckCode">获取验证码</span>
            <p class="checkbox-wrap">
                短信验证码已发送至158****3785，请注意查收
            </p>
        </div>
        <a href="javascript:;" class="login-submit">登录</a>
        <a href="./register.html" class="register">立即注册</a>
        <p class="tips"><span>其他登录方式</span></p>
        <div class="login-type">
            <img src="./images/public/i-wx.png" alt="">
            <img src="./images/public/i-alipay.png" alt="">
        </div>
    </div>
    <script>

        var countdown = 60;
        function settime(obj) {
            if (countdown == 0) {
                obj.removeAttribute("disabled");
                obj.innerHTML = "获取验证码";
                countdown = 60;
                return;
            } else {
                obj.setAttribute("disabled", true);
                obj.innerHTML = countdown + "s后重新发送";
                countdown--;
            }
            setTimeout(function () {
                settime(obj)
            }, 1000)
        }
        var sendCheckCode = document.querySelector(".sendCheckCode")
        sendCheckCode.addEventListener("click", function () {
            if (!this.getAttribute("disabled")) {
                settime(this)
            }
        })

        var checkNum = 0;
        var checkbox = document.querySelector(".checkbox")
        checkbox.addEventListener("click", function () {
            checkNum++;
            if (checkNum % 2 === 0) {
                this.classList.remove("checked")
            } else {
                this.classList.add("checked")
            }

        })

        var loginTabsBtn = document.querySelectorAll(".login-tabs a");
        var loginContent = document.querySelectorAll(".login-content")
        for (var i = 0; i < loginTabsBtn.length; i++) {
            loginTabsBtn[i].index = i;
            loginTabsBtn[i].addEventListener("click", function () {
                for (var j = 0; j < loginContent.length; j++) {
                    loginContent[j].style.display = "none";
                    loginTabsBtn[j].classList.remove("cur")
                }
                loginContent[this.index].style.display = "block";
                this.classList.add("cur")
            })
        }
    </script>
</body>

</html>